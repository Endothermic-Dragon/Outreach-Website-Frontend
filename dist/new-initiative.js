(()=>{var e={548:e=>{e.exports={$:e=>{var t=[...document.querySelectorAll(e)];return t.forEach((e=>e.on=(t,n)=>e.addEventListener(t,(t=>n(t,e))))),t.onAll=(e,n)=>t.map((t=>t.on(e,n))),t.on=()=>{throw new TypeError('Cannot add event listener on multiple elements using "on". Use "onAll" to add to multiple elements, or select one element.')},t},backend:"https://xtekoweg6sbdadhqxpetywgp3m0silph.lambda-url.us-east-1.on.aws/"}}},t={};function n(a){var o=t[a];if(void 0!==o)return o.exports;var r=t[a]={exports:{}};return e[a](r,r.exports,n),r.exports}(()=>{"use strict";function e(e,t,n,a,o,r,i){var s,l;try{l=(s=e[r](i)).value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(a,o)}var t=n(548),a="";function o(e){var n,o;"BUTTON"==e.target.tagName&&[...e.target.classList].includes("remove")&&(e.preventDefault(),e.target.nextSibling.remove(),e.target.remove()),"BUTTON"==e.target.tagName&&[...e.target.classList].includes("add")&&(e.preventDefault(),(n=document.createElement("select")).required=!0,n.innerHTML=a,(o=document.createElement("button")).classList.add("remove"),o.innerHTML="-",(0,t.$)(".leads-input")[0].insertBefore(o,[...(0,t.$)(".leads-input")[0].children].at(-1)),(0,t.$)(".leads-input")[0].insertBefore(n,[...(0,t.$)(".leads-input")[0].children].at(-1)))}fetch(t.backend+"./users",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({session_token:localStorage.getItem("session-token")})}).then(function(){var n,r=(n=function*(e){200==e.status?(e=(e=yield e.json()).map((e=>'<option value="'.concat(e.user_id,'">').concat(e.name," (").concat(e.email,")</option>"))),(0,t.$)("select")[0].innerHTML+=e.join("\n"),a=(0,t.$)("select")[0].innerHTML,(0,t.$)(".leads-input")[0].on("click",o)):alert("Error ".concat(e.status,"\n").concat(e.statusText))},function(){var t=this,a=arguments;return new Promise((function(o,r){var i=n.apply(t,a);function s(t){e(i,o,r,s,l,"next",t)}function l(t){e(i,o,r,s,l,"throw",t)}s(void 0)}))});return function(){return r.apply(this,arguments)}}()),(0,t.$)("form")[0].on("submit",(e=>{e.preventDefault();var n=[];(0,t.$)("#Community")[0].checked&&n.push("Community"),(0,t.$)("#FIRST")[0].checked&&n.push("FIRST"),(0,t.$)("#STEM")[0].checked&&n.push("STEM");var a={body:{session_token:localStorage.getItem("session-token"),initiative_name:(0,t.$)("#name")[0].value,picture:(0,t.$)("#picture")[0].value,categories:n,leads:(0,t.$)(".leads-input select").map((e=>e.value)),description:(0,t.$)("textarea").value}};console.log(a),fetch(t.backend+"./add-initiative",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({session_token:localStorage.getItem("session-token"),initiative_name:(0,t.$)("#name")[0].value.trim(),picture:(0,t.$)("#picture")[0].value.trim(),categories:n,leads:(0,t.$)(".leads-input select").map((e=>e.value)),description:(0,t.$)("textarea")[0].value.trim()})}).then((()=>location.href="initiatives.html"))}))})()})();