(()=>{var e={548:e=>{e.exports={$:e=>{var t=[...document.querySelectorAll(e)],n=function(e){e.on=(t,n)=>e.addEventListener(t,(t=>n(t,e)))};for(var r of t)n(r);return t.onAll=(e,n)=>t.map((t=>t.on(e,n))),t.on=()=>{throw new TypeError('Cannot add event listener on multiple elements using "on". Use "onAll" to add to multiple elements, or select one element.')},t},backend:"https://xtekoweg6sbdadhqxpetywgp3m0silph.lambda-url.us-east-1.on.aws/"}}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var i=t[r]={exports:{}};return e[r](i,i.exports,n),i.exports}(()=>{"use strict";function e(e,t,n,r,a,i,o){var s,c;try{c=(s=e[i](o)).value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,a)}var t=n(548),r="";function a(e){var n,a;"BUTTON"==e.target.tagName&&[...e.target.classList].includes("remove")&&(e.preventDefault(),e.target.nextSibling.remove(),e.target.remove()),"BUTTON"==e.target.tagName&&[...e.target.classList].includes("add")&&(e.preventDefault(),(n=document.createElement("select")).required=!0,n.innerHTML=r,(a=document.createElement("button")).classList.add("remove"),a.innerHTML="-",(0,t.$)(".leads-input")[0].insertBefore(a,[...(0,t.$)(".leads-input")[0].children].at(-1)),(0,t.$)(".leads-input")[0].insertBefore(n,[...(0,t.$)(".leads-input")[0].children].at(-1)))}fetch("".concat(t.backend,"./users"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({session_token:localStorage.getItem("session-token")})}).then(function(){var n,i=(n=function*(e){if(200==e.status){e=yield e.json();var n=document.createElement("div");e=e.map((e=>(n.innerText=e.user_id,e.user_id=n.innerHTML,n.innerText=e.name,e.name=n.innerHTML,n.innerText=e.email,e.email=n.innerHTML,'<option value="'.concat(e.user_id,'">').concat(e.name," (").concat(e.email,")</option>")))),(0,t.$)("select")[0].innerHTML+=e.join("\n"),r=(0,t.$)("select")[0].innerHTML,(0,t.$)(".leads-input")[0].on("click",a)}else alert("Error ".concat(e.status,"\n").concat(e.statusText))},function(){var t=this,r=arguments;return new Promise((function(a,i){var o=n.apply(t,r);function s(t){e(o,a,i,s,c,"next",t)}function c(t){e(o,a,i,s,c,"throw",t)}s(void 0)}))});return function(){return i.apply(this,arguments)}}()),(0,t.$)("form")[0].on("submit",(e=>{e.preventDefault();var n=[];(0,t.$)("#Community")[0].checked&&n.push("Community"),(0,t.$)("#FIRST")[0].checked&&n.push("FIRST"),(0,t.$)("#STEM")[0].checked&&n.push("STEM"),fetch("".concat(t.backend,"./add-initiative"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({session_token:localStorage.getItem("session-token"),initiative_name:(0,t.$)("#name")[0].value.trim(),picture:(0,t.$)("#picture")[0].value.trim(),categories:n,leads:(0,t.$)(".leads-input select").map((e=>e.value)),description:(0,t.$)("textarea")[0].value.trim()})}).then((()=>{location.href="initiatives.html"}))}))})()})();