"use strict";(self.webpackChunkoutreach_website_frontend=self.webpackChunkoutreach_website_frontend||[]).push([[942],{737:(e,t,n)=>{var a=n(390),s=n(117),i=n.n(s),r=n(508),o="";function c(e){var t,n;"BUTTON"==e.target.tagName&&[...e.target.classList].includes("remove")&&(e.preventDefault(),e.target.nextSibling.remove(),e.target.remove()),"BUTTON"==e.target.tagName&&[...e.target.classList].includes("add")&&(e.preventDefault(),(t=document.createElement("select")).required=!0,t.innerHTML=o,(n=document.createElement("button")).classList.add("remove"),n.innerHTML="-",(0,r.$)(".leads-input")[0].insertBefore(n,[...(0,r.$)(".leads-input")[0].children].at(-1)),(0,r.$)(".leads-input")[0].insertBefore(t,[...(0,r.$)(".leads-input")[0].children].at(-1)))}fetch(r.backend+"./users",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({session_token:localStorage.getItem("session-token")})}).then(function(){var e=(0,a.Z)(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(200==t.status){e.next=3;break}return alert("Error ".concat(t.status,"\n").concat(t.statusText)),e.abrupt("return");case 3:return e.next=5,t.json();case 5:t=(t=e.sent).map((e=>'<option value="'.concat(e.user_id,'">').concat(e.name," (").concat(e.email,")</option>"))),(0,r.$)("select")[0].innerHTML+=t.join("\n"),o=(0,r.$)("select")[0].innerHTML,(0,r.$)(".leads-input")[0].on("click",c);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()),(0,r.$)("form")[0].on("submit",(e=>{e.preventDefault();var t=[];(0,r.$)("#Community")[0].checked&&t.push("Community"),(0,r.$)("#FIRST")[0].checked&&t.push("FIRST"),(0,r.$)("#STEM")[0].checked&&t.push("STEM");var n={body:{session_token:localStorage.getItem("session-token"),initiative_name:(0,r.$)("#name")[0].value,picture:(0,r.$)("#picture")[0].value,categories:t,leads:(0,r.$)(".leads-input select").map((e=>e.value)),description:(0,r.$)("textarea").value}};console.log(n),fetch(r.backend+"./add-initiative",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({session_token:localStorage.getItem("session-token"),initiative_name:(0,r.$)("#name")[0].value.trim(),picture:(0,r.$)("#picture")[0].value.trim(),categories:t,leads:(0,r.$)(".leads-input select").map((e=>e.value)),description:(0,r.$)("textarea")[0].value.trim()})}).then((()=>location.href="initiatives.html"))}))},355:()=>{}},e=>{var t=t=>e(e.s=t);t(355),t(737)}]);