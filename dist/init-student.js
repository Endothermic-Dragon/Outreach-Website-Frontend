(()=>{var e={548:e=>{e.exports={$:e=>{var t=[...document.querySelectorAll(e)],n=function(e){e.on=(t,n)=>e.addEventListener(t,(t=>n(t,e)))};for(var o of t)n(o);return t.onAll=(e,n)=>t.map((t=>t.on(e,n))),t.on=()=>{throw new TypeError('Cannot add event listener on multiple elements using "on". Use "onAll" to add to multiple elements, or select one element.')},t},backend:"https://xtekoweg6sbdadhqxpetywgp3m0silph.lambda-url.us-east-1.on.aws/"}}},t={};function n(o){var s=t[o];if(void 0!==s)return s.exports;var i=t[o]={exports:{}};return e[o](i,i.exports,n),i.exports}(()=>{"use strict";function e(e,t,n,o,s,i,r){var a,l;try{l=(a=e[i](r)).value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(o,s)}var t=n(548);(0,t.$)("form")[0].on("submit",(function(n){n.preventDefault(),google.accounts.oauth2.initCodeClient({client_id:"672955273389-tc6i17ics6qv7sh6g7m597fi30ic0ljq.apps.googleusercontent.com",scope:"https://www.googleapis.com/auth/userinfo.email https://www.googleapis.com/auth/userinfo.profile",ux_mode:"popup",callback:n=>{console.log({code:n.code,department:(0,t.$)("select")[0].value,new_student:(0,t.$)("#new-student")[0].value}),fetch("".concat(t.backend,"./init-student"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({code:n.code,department:(0,t.$)("select")[0].value,new_student:(0,t.$)("#new-student")[0].value})}).then(function(){var n,o=(n=function*(e){if(200===e.status){var n=yield e.json();localStorage.setItem("session-token",n.session_token),localStorage.setItem("user-id",n.user_id),localStorage.setItem("tags",JSON.stringify(n.tags)),(0,t.$)(".sign-in")[0].classList.add("disabled"),(0,t.$)(".sign-in")[0].removeEventListener("click",signIn),(0,t.$)(".sidebar")[0].classList.add("signed-in"),n.tags.includes("mentor")&&(0,t.$)(".sidebar")[0].classList.add("mentor")}else alert("Could not log in. Please try again.")},function(){var t=this,o=arguments;return new Promise((function(s,i){var r=n.apply(t,o);function a(t){e(r,s,i,a,l,"next",t)}function l(t){e(r,s,i,a,l,"throw",t)}a(void 0)}))});return function(){return o.apply(this,arguments)}}())}}).requestCode()}))})()})();