(()=>{var e={72:e=>{e.exports={$:e=>{var t=[...document.querySelectorAll(e)],n=function(e){e.on=(t,n)=>e.addEventListener(t,(t=>n(t,e)))};for(var o of t)n(o);return t.onAll=(e,n)=>t.map((t=>t.on(e,n))),t.on=()=>{throw new TypeError('Cannot add event listener on multiple elements using "on". Use "onAll" to add to multiple elements, or select one element.')},t},backend:"https://xtekoweg6sbdadhqxpetywgp3m0silph.lambda-url.us-east-1.on.aws/"}}},t={};function n(o){var r=t[o];if(void 0!==r)return r.exports;var s=t[o]={exports:{}};return e[o](s,s.exports,n),s.exports}(()=>{"use strict";function e(e,t,n,o,r,s,a){var i,u;try{u=(i=e[s](a)).value}catch(e){return void n(e)}i.done?t(u):Promise.resolve(u).then(o,r)}var t=n(72);(0,t.$)("form")[0].on("submit",(function(n){n.preventDefault(),google.accounts.oauth2.initCodeClient({client_id:"672955273389-tc6i17ics6qv7sh6g7m597fi30ic0ljq.apps.googleusercontent.com",scope:"https://www.googleapis.com/auth/userinfo.email https://www.googleapis.com/auth/userinfo.profile",ux_mode:"popup",callback:n=>{console.log({code:n.code,department:(0,t.$)("select")[0].value,new_student:(0,t.$)("#new-student")[0].value}),fetch("".concat(t.backend,"./init-student"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({code:n.code,department:(0,t.$)("select")[0].value,new_student:(0,t.$)("#new-student")[0].value})}).then(function(){var t,n=(t=function*(e){200!==e.status?alert("Could not register. Please try again."):window.location.href="./home.html"},function(){var n=this,o=arguments;return new Promise((function(r,s){var a=t.apply(n,o);function i(t){e(a,r,s,i,u,"next",t)}function u(t){e(a,r,s,i,u,"throw",t)}i(void 0)}))});return function(){return n.apply(this,arguments)}}())}}).requestCode()}))})()})();