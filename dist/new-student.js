"use strict";(self.webpackChunkoutreach_website_frontend=self.webpackChunkoutreach_website_frontend||[]).push([[499],{438:(e,t,n)=>{var o=n(390),r=n(508),a=1;function i(e){e.preventDefault(),e.target.parentElement.previousSibling.remove(),e.target.parentElement.remove()}function c(){return(c=(0,o.Z)((function*(e){e.preventDefault(),(0,r.$)("[type='submit']")[0].disabled=!0;var t=[],n=[],o=[];(0,r.$)("form > div").forEach((e=>{t.push(e.querySelector("input").value+" "+e.querySelector("[type='email']").value),n.push(e.querySelector("select").value);var r=[];e.querySelector("[id^='mentor']").checked&&r.push("mentor"),e.querySelector("[id^='new-student']").checked&&r.push("new"),o.push(r)}));var a=yield new Promise((e=>{google.accounts.oauth2.initCodeClient({client_id:"672955273389-tc6i17ics6qv7sh6g7m597fi30ic0ljq.apps.googleusercontent.com",scope:"https://www.googleapis.com/auth/contacts.readonly",ux_mode:"popup",callback:t=>{e(t.code)}}).requestCode()}));fetch(r.backend+"./add-users",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({code:a,searches:t,departments:n,tags_s:o,session_token:localStorage.getItem("session-token")})}).then((()=>{window.location.href="all-students.html"}))}))).apply(this,arguments)}(0,r.$)(".add-another-student")[0].on("click",(function(e){a++,e.preventDefault();var t='\n  <input type="text" placeholder="Full Name" required><br>\n  <input type="email" placeholder="Email" required><br>\n  <select>\n    <option value="-" disabled selected>Department NA</option>\n    <option value="documentation">Documentation</option>\n    <option value="finance">Finance</option>\n    <option value="pr">Public Relations</option>\n    <option value="carpentry">Carpentry</option>\n    <option value="design">Design</option>\n    <option value="electrical">Electrical</option>\n    <option value="mechanical">Mechanical</option>\n    <option value="programming">Programming</option>\n    <option value="safety">Safety</option>\n    <option value="strategy">Strategy</option>\n  </select><br>\n  <input type="checkbox" id="new-student-'.concat(a,'">\n  <label for="new-student-').concat(a,'"> New student</label><br>\n  <input type="checkbox" id="mentor-').concat(a,'">\n  <label for="mentor-').concat(a,'"> Mentor</label><br>\n  '),n=document.createElement("div"),o=document.createElement("button");o.classList.add("remove-row"),o.innerText="Remove student row",o.addEventListener("click",i);var c=document.createElement("hr");n.innerHTML=t,n.appendChild(o),(0,r.$)("form")[0].insertBefore(c,[...(0,r.$)("form")[0].children].at(-3)),(0,r.$)("form")[0].insertBefore(n,[...(0,r.$)("form")[0].children].at(-3))})),(0,r.$)(".remove-row")[0].on("click",i),(0,r.$)("form")[0].on("submit",(function(){return c.apply(this,arguments)}))},521:()=>{}},e=>{var t=t=>e(e.s=t);t(521),t(438)}]);