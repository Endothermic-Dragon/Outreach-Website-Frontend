"use strict";(self.webpackChunkoutreach_website_frontend=self.webpackChunkoutreach_website_frontend||[]).push([[499],{438:(e,t,n)=>{var o=n(390),r=n(117),a=n.n(r),i=n(508),c=1;function l(e){e.preventDefault(),e.target.parentElement.previousSibling.remove(),e.target.parentElement.remove()}function u(){return(u=(0,o.Z)(a().mark((function e(t){var n,o,r,c;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),(0,i.$)("[type='submit']")[0].disabled=!0,n=[],o=[],r=[],(0,i.$)("form > div").forEach((e=>{n.push(e.querySelector("input").value+" "+e.querySelector("[type='email']").value),o.push(e.querySelector("select").value);var t=[];e.querySelector("#mentor").checked&&t.push("mentor"),e.querySelector("#new-student").checked&&t.push("new"),r.push(t)})),e.next=8,new Promise((e=>{google.accounts.oauth2.initCodeClient({client_id:"672955273389-bc25j23ds73qgp7ukroaloutv2a22qjv.apps.googleusercontent.com",scope:"https://www.googleapis.com/auth/contacts.readonly",ux_mode:"popup",callback:t=>{e(t.code)}}).requestCode()}));case 8:c=e.sent,fetch(i.backend+"./add-users",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({code:c,searches:n,departments:o,tags_s:r,session_token:localStorage.getItem("session-token")})}).then((()=>{window.location.href="all-students.html"}));case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(0,i.$)(".add-another-student")[0].on("click",(function(e){c++,e.preventDefault();var t='\n  <input type="text" placeholder="Full Name" required><br>\n  <input type="email" placeholder="Email" required><br>\n  <select>\n    <option value="default" disabled selected>Department</option>\n    <option value="documentation">Documentation</option>\n    <option value="finance">Finance</option>\n    <option value="pr">Public Relations</option>\n    <option value="carpentry">Carpentry</option>\n    <option value="design">Design</option>\n    <option value="electrical">Electrical</option>\n    <option value="mechanical">Mechanical</option>\n    <option value="programming">Programming</option>\n    <option value="safety">Safety</option>\n    <option value="strategy">Strategy</option>\n  </select><br>\n  <input type="checkbox" id="new-student-'.concat(c,'">\n  <label for="new-student-').concat(c,'"> New student</label><br>\n  <input type="checkbox" id="mentor-').concat(c,'">\n  <label for="mentor-').concat(c,'"> Mentor</label><br>\n  '),n=document.createElement("div"),o=document.createElement("button");o.classList.add("remove-row"),o.innerText="Remove student row",o.addEventListener("click",l);var r=document.createElement("hr");n.innerHTML=t,n.appendChild(o),(0,i.$)("form")[0].insertBefore(r,[...(0,i.$)("form")[0].children].at(-3)),(0,i.$)("form")[0].insertBefore(n,[...(0,i.$)("form")[0].children].at(-3))})),(0,i.$)(".remove-row")[0].on("click",l),(0,i.$)("form")[0].on("submit",(function(){return u.apply(this,arguments)}))},521:()=>{}},e=>{var t=t=>e(e.s=t);t(521),t(438)}]);