(()=>{var e={548:e=>{e.exports={$:e=>{var t=[...document.querySelectorAll(e)];return t.forEach((e=>e.on=(t,n)=>e.addEventListener(t,(t=>n(t,e))))),t.onAll=(e,n)=>t.map((t=>t.on(e,n))),t.on=()=>{throw new TypeError('Cannot add event listener on multiple elements using "on". Use "onAll" to add to multiple elements, or select one element.')},t},backend:"https://xtekoweg6sbdadhqxpetywgp3m0silph.lambda-url.us-east-1.on.aws/"}}},t={};function n(a){var o=t[a];if(void 0!==o)return o.exports;var i=t[a]={exports:{}};return e[a](i,i.exports,n),i.exports}(()=>{"use strict";function e(e,t,n,a,o,i,s){var r,l;try{l=(r=e[i](s)).value}catch(e){return void n(e)}r.done?t(l):Promise.resolve(l).then(a,o)}var t=n(548);function a(){var e=(0,t.$)("select")[0].value;"true"==(0,t.$)('option[value="'.concat(e,'"]'))[0].dataset.lead?(0,t.$)(".vary-disabled")[0].classList.remove("disabled"):((0,t.$)(".vary-disabled")[0].classList.add("disabled"),(0,t.$)("input[type='checkbox']")[0].checked=!1)}function o(e){e.preventDefault(),fetch(t.backend+"./log-hours",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({session_token:localStorage.getItem("session-token"),initiative_id:(0,t.$)("#initiative")[0].value,prep_time:(0,t.$)("#event-leader")[0].checked,duration:60*parseInt((0,t.$)("#hours")[0].value)+parseInt((0,t.$)("#mins")[0].value),start_time:Math.floor((new Date((0,t.$)("#start-time")[0].value)-new Date("Jan 1 2020 00:00:00 GMT"))/1e3/60)})}).then((()=>location.href="user-dashboard.html"))}(0,t.$)("input[type='number']").onAll("input",(()=>{60*(parseInt((0,t.$)("#hours")[0].value)||0)+(parseInt((0,t.$)("#mins")[0].value)||0)>600?(0,t.$)("#mins")[0].setCustomValidity("Total time must be less than 10 hours."):(0,t.$)("#mins")[0].setCustomValidity("")})),(0,t.$)("#start-time")[0].on("input",((e,t)=>{var n=new Date(t.value),a=(new Date).getTime()-12096e5;(a=(new Date).setTime(a))>n?t.setCustomValidity("You can only log hours for two weeks."):n>new Date?t.setCustomValidity("You can't log hours in the future."):t.setCustomValidity("")})),fetch(t.backend+"./initiatives",{method:"POST",headers:{"Content-Type":"application/json"}}).then(function(){var n,i=(n=function*(e){e=(e=yield e.json()).map((e=>'<option value="'.concat(e.initiative_id,'" data-lead="').concat(e.leads.includes(localStorage.getItem("user-id")),'">').concat(e.initiative_name,"</option>"))),(0,t.$)("select")[0].innerHTML+=e.join("\n"),(0,t.$)("select")[0].on("change",a),(0,t.$)("form")[0].on("submit",o)},function(){var t=this,a=arguments;return new Promise((function(o,i){var s=n.apply(t,a);function r(t){e(s,o,i,r,l,"next",t)}function l(t){e(s,o,i,r,l,"throw",t)}r(void 0)}))});return function(){return i.apply(this,arguments)}}())})()})();