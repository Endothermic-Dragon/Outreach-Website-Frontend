(()=>{var t={72:t=>{t.exports={$:t=>{var e=[...document.querySelectorAll(t)],n=function(t){t.on=(e,n)=>t.addEventListener(e,(e=>n(e,t)))};for(var a of e)n(a);return e.onAll=(t,n)=>e.map((e=>e.on(t,n))),e.on=()=>{throw new TypeError('Cannot add event listener on multiple elements using "on". Use "onAll" to add to multiple elements, or select one element.')},e},backend:"https://xtekoweg6sbdadhqxpetywgp3m0silph.lambda-url.us-east-1.on.aws/"}}},e={};function n(a){var i=e[a];if(void 0!==i)return i.exports;var r=e[a]={exports:{}};return t[a](r,r.exports,n),r.exports}(()=>{"use strict";function t(t,e,n,a,i,r,o){var s,c;try{c=(s=t[r](o)).value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(a,i)}function e(e){return function(){var n=this,a=arguments;return new Promise((function(i,r){var o=e.apply(n,a);function s(e){t(o,i,r,s,c,"next",e)}function c(e){t(o,i,r,s,c,"throw",e)}s(void 0)}))}}var a=n(72),i=new URLSearchParams(window.location.search).get("user_id")||new URLSearchParams(window.location.search).get("user-id")||localStorage.getItem("user-id");i!=localStorage.getItem("user-id")&&((0,a.$)(".hours span")[1].innerText="This user currently has"),fetch("".concat(a.backend,"./user"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({session_token:localStorage.getItem("session-token"),user_id:i})}).then(function(){var t=e((function*(t){if(200==t.status){t=yield t.json(),(0,a.$)(".user-banner div:first-child")[0].innerText=t.name,(0,a.$)(".user-banner a")[0].innerText=t.email,(0,a.$)(".user-banner a")[0].href="mailto:".concat(t.email),t.mins=parseInt(t.initiative_mins)%60,t.hours=Math.floor(parseInt(t.initiative_mins)/60);var e=[];1==t.hours?e.push("1 hour"):0!=t.hours&&e.push("".concat(t.hours," hours")),1==t.mins?e.push("1 minute"):0!=t.mins&&e.push("".concat(t.mins," minutes")),(0,a.$)(".hours span")[2].innerText=e.join(", ")||"0 minutes"}else alert("Error ".concat(t.status,"\n").concat(t.statusText))}));return function(){return t.apply(this,arguments)}}()),fetch("".concat(a.backend,"./user-initiatives"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({session_token:localStorage.getItem("session-token"),user_id:i})}).then(function(){var t=e((function*(t){if(200==t.status){t=yield t.json(),yield fetch("".concat(a.backend,"./translate-initiative-ids"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({initiative_ids:t.initiative_data.map((t=>t.initiative_id))})}).then(function(){var n=e((function*(e){e=yield e.json(),t.initiative_data=t.initiative_data.map(((t,n)=>(t.initiative_name=e[n],t)))}));return function(){return n.apply(this,arguments)}}());var n=document.createElement("div"),i=t.initiative_data.map((t=>{n.innerText=t.initiative_name,t.initiative_name=n.innerHTML,t.mins=(parseInt(t.duration)%60).toString().padStart(2,"0"),t.hours=Math.floor(parseInt(t.duration)/60);var e=new Date(new Date("Jan 1 2020 00:00:00 GMT").getTime()+60*parseInt(t.timestamp)*1e3).toLocaleString().replaceAll(" ","&nbsp;").replace("&nbsp;"," "),a=new Date(new Date("Jan 1 2020 00:00:00 GMT").getTime()+60*parseInt(t.start_time)*1e3).toLocaleString().replaceAll(" ","&nbsp;").replace("&nbsp;"," ");return[t.initiative_name,a,"".concat(t.hours,":").concat(t.mins),t.prep_time?"True":"False",e]})).map((t=>"<tr><td>".concat(t[0],"</td><td>").concat(t[1],"</td><td>").concat(t[2],"</td><td>").concat(t[3],"</td><td>").concat(t[4],"</td></tr>"))).join("");(0,a.$)(".logs")[0].innerHTML="<table><thead><tr><th>Initiative Name</th><th>Start Time</th><th>Hour Logged</th><th>Lead Prep Time</th><th>Record Date</th></tr></thead><tbody>".concat(i,"</tbody></table>")}else alert("Error ".concat(t.status,"\n").concat(t.statusText))}));return function(){return t.apply(this,arguments)}}())})()})();